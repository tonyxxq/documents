####1.  deep learning中关于数据的两方面问题。

- __数据太少，容易出现过拟合__
  - 收集更多的数据：挺困难，可以使用keras等工具生成更多的数据(ImageDataGenerator)。
  - 数据预处理：使数据特征更明显，使训练数据和测试数据更加具有相似。
- **数据太复杂**
  - 构建更加深层的网络。
  - 数据正则化，规范化。
  - 使用多个模型训练。


#### 2. 图像数据预处理

​       实践证明，数据预处理是一个很重要的工作。如果喂给模型是垃圾数据，则输出的也是垃圾数据。

- **图像颜色空间转换，选取合适的图像通道，直方图均衡化，降噪，滤波等操作**

  ```python
  X = np.array([np.expand_dims(cv2.cvtColor(rgb_img, cv2.COLOR_RGB2YUV)[:, :, 0], 2) for rgb_img in X])
  # adjust image contrast
  X = np.array([np.expand_dims(cv2.equalizeHist(img), 2) for img in X])
  ```


- **简单缩放**

  在简单缩放中，我们的目的是通过对数据的每一个维度的值进行重新调节（这些维度可能是相互独立的），使得最终的数据向量落在 [0,1]或[ − 1,1] 的区间内（根据数据情况而定）。这对后续的处理十分重要，因为很多*默认*参数（如 PCA-白化中的 epsilon）都假定数据已被缩放到合理区间。

  ```python
  X = (X - 128) / 128
  ```

  **例子:**在处理自然图像时，我们获得的像素值在 [0, 255] 区间中，常用的处理是将这些像素值除以 255，使它们缩放到 [0, 1] 中。

- **逐样本均值消减**

  如果你的数据是*平稳*的（即数据每一个维度的统计都服从相同分布），那么你可以考虑在每个样本上减去数据的统计平均值(逐样本计算)。

  注意：一般只用在处理灰度图像上。

  ```python
  X -= np.mean(X, axis=0)
  ```

- **特征标准化**

  特征标准化指的是（独立地）使得数据的每一个维度具有零均值和单位方差。这是归一化中最常见的方法并被广泛地使用（例如，在使用支持向量机（SVM）时，特征标准化常被建议用作预处理的一部分）。在实际应用中，特征标准化的具体做法是：首先计算每一个维度上数据的均值（使用全体数据计算），之后在每一个维度上都减去该均值。下一步便是在数据的每一维度上除以该维度上数据的标准差。

  ```python
  # Standardize features
  X -= np.mean(X, axis=0)
  X /= (np.std(X, axis=0) + np.finfo('float32').eps)
  ```



#### 3.pickle的使用

把数据保存为二进制，方便读取和保存。

```
import pickle
```

保存

```
l = [1, 2, 3]
with open("1.pkl", 'wb') as f:
    xx = pickle.dump(l, f)
```

读取

```
with open("1.pkl", 'rb') as f:
    data = pickle.load(f)
    print(data)
```



      ```

      ```



